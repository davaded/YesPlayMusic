<?xml version="1.0" encoding="utf-8"?>
<FrameLayout
  xmlns:android="http://schemas.android.com/apk/res/android"
  xmlns:app="http://schemas.android.com/apk/res-auto"
  android:layout_width="match_parent"
  android:layout_height="match_parent"
  android:background="@drawable/bg_luminous_dark">

  <!-- 环境光层 -->
  <View
    android:id="@+id/ambientOrb1"
    android:layout_width="600dp"
    android:layout_height="600dp"
    android:layout_gravity="start|center_vertical"
    android:layout_marginStart="-250dp"
    android:background="@drawable/bg_ambient_orb_pink"
    android:alpha="0.18" />

  <View
    android:id="@+id/ambientOrb2"
    android:layout_width="400dp"
    android:layout_height="400dp"
    android:layout_gravity="end|bottom"
    android:layout_marginEnd="-150dp"
    android:layout_marginBottom="-100dp"
    android:background="@drawable/bg_ambient_orb_blue"
    android:alpha="0.1" />

  <!-- 主布局 - 左右分栏全屏 -->
  <LinearLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal"
    android:padding="32dp"
    android:paddingBottom="120dp">

    <!-- ========== 左区: 封面 + 信息 (42%) ========== -->
    <FrameLayout
      android:id="@+id/leftPane"
      android:layout_width="0dp"
      android:layout_height="match_parent"
      android:layout_weight="0.42">

      <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:orientation="vertical"
        android:gravity="center">

        <!-- 封面阴影 + 卡片 -->
        <FrameLayout
          android:layout_width="300dp"
          android:layout_height="300dp">

          <View
            android:id="@+id/coverShadow"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_marginTop="20dp"
            android:background="@drawable/bg_cover_shadow"
            android:alpha="0.7" />

          <com.google.android.material.card.MaterialCardView
            android:id="@+id/coverCard"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:cardCornerRadius="20dp"
            app:cardElevation="24dp"
            app:cardBackgroundColor="@color/surfaceAlt"
            app:strokeWidth="0dp">

            <ImageView
              android:id="@+id/albumArt"
              android:layout_width="match_parent"
              android:layout_height="match_parent"
              android:contentDescription="@string/app_name"
              android:scaleType="centerCrop"
              android:src="@drawable/ic_launcher_foreground" />
          </com.google.android.material.card.MaterialCardView>
        </FrameLayout>

        <!-- 歌曲标题 -->
        <TextView
          android:id="@+id/title"
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:layout_marginTop="32dp"
          android:text="@string/not_playing"
          android:textColor="@color/textPrimary"
          android:textSize="28sp"
          android:fontFamily="@font/barlow_bold"
          android:letterSpacing="-0.03"
          android:gravity="center"
          android:maxLines="1"
          android:ellipsize="end" />

        <!-- 艺人 -->
        <TextView
          android:id="@+id/subtitle"
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:layout_marginTop="8dp"
          android:textColor="#99FFFFFF"
          android:textSize="18sp"
          android:fontFamily="@font/barlow_medium"
          android:gravity="center"
          android:maxLines="1"
          android:ellipsize="end" />

        <!-- 分割线 border-white/5 -->
        <View
          android:layout_width="200dp"
          android:layout_height="1dp"
          android:layout_marginTop="28dp"
          android:background="#0DFFFFFF" />

        <!-- K歌模式按钮 -->
        <com.google.android.material.button.MaterialButton
          android:id="@+id/karaokeButton"
          style="@style/Widget.Yes.IconButton.Ghost"
          android:layout_width="48dp"
          android:layout_height="48dp"
          android:layout_marginTop="16dp"
          android:contentDescription="@string/karaoke_mode"
          app:icon="@drawable/ic_mic_24"
          app:iconSize="22dp"
          app:iconTint="@color/textPrimary" />

      </LinearLayout>

    </FrameLayout>

    <!-- ========== 右区: 滚动歌词 (58%) ========== -->
    <LinearLayout
      android:id="@+id/rightPane"
      android:layout_width="0dp"
      android:layout_height="match_parent"
      android:layout_weight="0.58"
      android:orientation="vertical"
      android:paddingStart="48dp"
      android:paddingEnd="24dp">

      <!-- 歌词标题 -->
      <TextView
        android:id="@+id/lyricsLabel"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="歌词"
        android:textColor="#66FFFFFF"
        android:textSize="13sp"
        android:fontFamily="@font/barlow_medium"
        android:letterSpacing="0.1"
        android:textAllCaps="true"
        android:layout_marginTop="24dp"
        android:layout_marginBottom="20dp" />

      <!-- 滚动歌词区域 -->
      <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/lyricsList"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:overScrollMode="never"
        android:clipToPadding="false"
        android:paddingTop="40dp"
        android:paddingBottom="80dp"
        android:fadingEdge="vertical"
        android:fadingEdgeLength="100dp"
        android:requiresFadingEdge="vertical" />

      <!-- 浮动歌词备用 (无歌词时显示) -->
      <LinearLayout
        android:id="@+id/lyricsContainer"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:orientation="vertical"
        android:gravity="center_vertical"
        android:visibility="gone">

        <TextView
          android:id="@+id/lyricCurrent"
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:text=""
          android:textColor="@color/textPrimary"
          android:textSize="26sp"
          android:fontFamily="@font/barlow_semibold"
          android:letterSpacing="-0.02"
          android:lineSpacingMultiplier="1.4"
          android:maxLines="3" />

        <TextView
          android:id="@+id/lyricNext"
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:layout_marginTop="24dp"
          android:text=""
          android:textColor="#66FFFFFF"
          android:textSize="20sp"
          android:fontFamily="@font/barlow_regular"
          android:maxLines="2" />

        <TextView
          android:id="@+id/lyricThird"
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:layout_marginTop="16dp"
          android:text=""
          android:textColor="#33FFFFFF"
          android:textSize="17sp"
          android:fontFamily="@font/barlow_regular"
          android:maxLines="1" />

      </LinearLayout>

    </LinearLayout>

  </LinearLayout>

  <!-- 保留兼容的隐藏元素 (供 PlayerFragment.kt 引用) -->
  <TextView
    android:id="@+id/status"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <com.google.android.material.card.MaterialCardView
    android:id="@+id/lyricsCard"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <TextView
    android:id="@+id/lyricsTitle"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <com.google.android.material.card.MaterialCardView
    android:id="@+id/infoCard"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <TextView
    android:id="@+id/songInfoTitle"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <TextView
    android:id="@+id/songInfo"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <com.google.android.material.button.MaterialButton
    android:id="@+id/mvButton"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <!-- 胶囊控制元素 - 隐藏占位 (使用全局胶囊) -->
  <com.google.android.material.slider.Slider
    android:id="@+id/seekBar"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <TextView
    android:id="@+id/currentTime"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <TextView
    android:id="@+id/totalTime"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <com.google.android.material.button.MaterialButton
    android:id="@+id/shuffleButton"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <com.google.android.material.button.MaterialButton
    android:id="@+id/prevButton"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <com.google.android.material.button.MaterialButton
    android:id="@+id/playButton"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <com.google.android.material.button.MaterialButton
    android:id="@+id/nextButton"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <com.google.android.material.button.MaterialButton
    android:id="@+id/repeatButton"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

</FrameLayout>
