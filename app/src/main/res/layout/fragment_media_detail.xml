<?xml version="1.0" encoding="utf-8"?>
<FrameLayout
  xmlns:android="http://schemas.android.com/apk/res/android"
  xmlns:app="http://schemas.android.com/apk/res-auto"
  android:layout_width="match_parent"
  android:layout_height="match_parent"
  android:background="@drawable/bg_luminous_dark">

  <!-- 环境光层 -->
  <View
    android:id="@+id/ambientOrb"
    android:layout_width="500dp"
    android:layout_height="500dp"
    android:layout_gravity="start|top"
    android:layout_marginStart="-200dp"
    android:layout_marginTop="-150dp"
    android:background="@drawable/bg_ambient_orb_blue"
    android:alpha="0.15" />

  <LinearLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal"
    android:paddingBottom="100dp">

    <!-- ========== 左侧: 磨砂玻璃大卡片 (Visual Anchor) ========== -->
    <FrameLayout
      android:id="@+id/detailHeader"
      android:layout_width="0dp"
      android:layout_height="match_parent"
      android:layout_weight="0.38"
      android:padding="32dp">

      <!-- 磨砂玻璃卡片背景 -->
      <FrameLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@drawable/bg_glass_card">

        <LinearLayout
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:layout_gravity="center"
          android:orientation="vertical"
          android:gravity="center"
          android:padding="32dp">

          <!-- 封面阴影 + 卡片 -->
          <FrameLayout
            android:layout_width="200dp"
            android:layout_height="200dp">

            <View
              android:id="@+id/coverShadow"
              android:layout_width="match_parent"
              android:layout_height="match_parent"
              android:layout_marginTop="16dp"
              android:background="@drawable/bg_cover_shadow"
              android:alpha="0.6" />

            <com.google.android.material.card.MaterialCardView
              android:id="@+id/detailCoverCard"
              android:layout_width="match_parent"
              android:layout_height="match_parent"
              app:cardCornerRadius="20dp"
              app:cardElevation="16dp"
              app:cardBackgroundColor="@color/surfaceAlt"
              app:strokeWidth="0dp">

              <ImageView
                android:id="@+id/detailCover"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:scaleType="centerCrop"
                android:contentDescription="@string/app_name"
                android:src="@drawable/ic_launcher_foreground" />
            </com.google.android.material.card.MaterialCardView>
          </FrameLayout>

          <!-- 标题 -->
          <TextView
            android:id="@+id/detailTitle"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="28dp"
            android:textColor="@color/textPrimary"
            android:textSize="22sp"
            android:fontFamily="@font/barlow_bold"
            android:letterSpacing="-0.03"
            android:gravity="center"
            android:maxLines="2"
            android:ellipsize="end" />

          <!-- 副标题 -->
          <TextView
            android:id="@+id/detailSubtitle"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="8dp"
            android:textColor="#99FFFFFF"
            android:textSize="15sp"
            android:fontFamily="@font/barlow_medium"
            android:gravity="center"
            android:maxLines="1"
            android:ellipsize="end" />

          <!-- 分割线 -->
          <View
            android:layout_width="120dp"
            android:layout_height="1dp"
            android:layout_marginTop="24dp"
            android:background="#0DFFFFFF" />

          <!-- 操作按钮 -->
          <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="24dp"
            android:orientation="horizontal"
            android:gravity="center">

            <!-- Play 按钮 - 主按钮反色 -->
            <com.google.android.material.button.MaterialButton
              android:id="@+id/playAllButton"
              style="@style/Widget.Yes.RoundButton.Inverted"
              android:layout_width="140dp"
              android:layout_height="52dp"
              android:text="@string/play"
              android:textColor="@color/background"
              app:icon="@drawable/ic_play_24"
              app:iconSize="20dp"
              app:iconTint="@color/background"
              app:cornerRadius="26dp" />

            <!-- Shuffle 按钮 - Ghost -->
            <com.google.android.material.button.MaterialButton
              android:id="@+id/shuffleButton"
              style="@style/Widget.Yes.IconButton.Ghost"
              android:layout_width="52dp"
              android:layout_height="52dp"
              android:layout_marginStart="12dp"
              android:contentDescription="@string/shuffle"
              app:icon="@drawable/ic_shuffle_24"
              app:iconSize="22dp"
              app:iconTint="@color/textPrimary" />

          </LinearLayout>

        </LinearLayout>

      </FrameLayout>

    </FrameLayout>

    <!-- ========== 右侧: 呼吸感歌曲列表 (62%) ========== -->
    <LinearLayout
      android:id="@+id/listContainer"
      android:layout_width="0dp"
      android:layout_height="match_parent"
      android:layout_weight="0.62"
      android:orientation="vertical"
      android:paddingTop="32dp"
      android:paddingEnd="32dp">

      <!-- 顶部工具栏 -->
      <LinearLayout
        android:id="@+id/detailToolbarContainer"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:gravity="center_vertical"
        android:layout_marginBottom="24dp">

        <!-- 返回按钮 - Ghost 样式 -->
        <com.google.android.material.button.MaterialButton
          android:id="@+id/backButton"
          style="@style/Widget.Yes.IconButton.Ghost"
          android:layout_width="48dp"
          android:layout_height="48dp"
          android:contentDescription="@string/previous"
          app:icon="@drawable/ic_arrow_back_24"
          app:iconSize="24dp"
          app:iconTint="@color/textPrimary" />

        <!-- 标题占位 -->
        <TextView
          android:id="@+id/toolbarTitle"
          android:layout_width="0dp"
          android:layout_height="wrap_content"
          android:layout_weight="1"
          android:layout_marginStart="16dp"
          android:textColor="@color/textPrimary"
          android:textSize="18sp"
          android:fontFamily="@font/barlow_semibold"
          android:letterSpacing="-0.02"
          android:maxLines="1"
          android:ellipsize="end"
          android:alpha="0" />

        <!-- 搜索按钮 - Ghost 样式 -->
        <com.google.android.material.button.MaterialButton
          android:id="@+id/searchPillButton"
          style="@style/Widget.Yes.IconButton.Ghost"
          android:layout_width="48dp"
          android:layout_height="48dp"
          android:contentDescription="@string/search"
          app:icon="@drawable/ic_search_24"
          app:iconSize="22dp"
          app:iconTint="#99FFFFFF" />

      </LinearLayout>

      <!-- 搜索展开区 (默认隐藏) -->
      <FrameLayout
        android:id="@+id/detailSearchCard"
        android:layout_width="match_parent"
        android:layout_height="52dp"
        android:layout_marginBottom="20dp"
        android:background="@drawable/bg_glass_card"
        android:visibility="gone">

        <EditText
          android:id="@+id/detailSearchInput"
          android:layout_width="match_parent"
          android:layout_height="match_parent"
          android:background="@android:color/transparent"
          android:hint="@string/detail_search_hint"
          android:paddingStart="24dp"
          android:paddingEnd="24dp"
          android:textColor="@color/textPrimary"
          android:textColorHint="#66FFFFFF"
          android:textSize="15sp"
          android:fontFamily="@font/barlow_regular"
          android:imeOptions="actionSearch"
          android:inputType="text" />
      </FrameLayout>

      <!-- 状态文字 -->
      <TextView
        android:id="@+id/detailStatus"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingBottom="16dp"
        android:textColor="#66FFFFFF"
        android:textSize="14sp"
        android:fontFamily="@font/barlow_regular"
        android:visibility="gone" />

      <!-- 呼吸感歌曲列表 - 无分割线 -->
      <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/detailList"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:clipToPadding="false"
        android:overScrollMode="never"
        android:paddingBottom="24dp"
        android:fadingEdge="vertical"
        android:fadingEdgeLength="60dp"
        android:requiresFadingEdge="vertical"
        android:layoutAnimation="@anim/layout_animation_fall_down" />

    </LinearLayout>

  </LinearLayout>

  <!-- 兼容旧版的隐藏元素 -->
  <com.google.android.material.appbar.MaterialToolbar
    android:id="@+id/detailToolbar"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <com.google.android.material.button.MaterialButton
    android:id="@+id/detailSortButton"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

  <LinearLayout
    android:id="@+id/detailActions"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:visibility="gone" />

</FrameLayout>
